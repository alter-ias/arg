<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARG - Jardín Digital (Efecto Corregido)</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Poppins:wght@300;400&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --main-gap: 2rem;
            --font-serif: 'Cormorant Garamond', serif;
            --font-sans: 'Poppins', sans-serif;
            --color-light: #f8f9fa;
        }

        /* ======================================================= */
        /* BASE Y RESET                                            */
        /* ======================================================= */
        * { box-sizing: border-box; }
        body {
            margin: 0;
            font-family: var(--font-sans);
            color: var(--color-light);
            background-color: #1a1a1a;
            overflow-x: hidden;
        }

        /* ======================================================= */
        /* ENCABEZADO FIJO                                         */
        /* ======================================================= */
        header {
            padding: 1.5rem var(--main-gap);
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            mix-blend-mode: exclusion;
        }
        
        .header-logo a {
            font-family: var(--font-serif);
            font-size: 2.5rem;
            font-weight: 700;
            text-decoration: none;
            color: var(--color-light);
        }

        /* ======================================================= */
        /* ESTRUCTURA DE BLOQUES DE SCROLL                         */
        /* ======================================================= */
        .media-block {
            position: relative;
            width: 100%;
            height: 100vh;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .media-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center 50%; /* Iniciamos en el centro para tener margen de movimiento */
            background-repeat: no-repeat;
            z-index: 1;
            will-change: background-position;
        }

        /* Superposición oscura para legibilidad del texto */
        .media-block::before {
            content: '';
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.4);
            z-index: 2;
        }

        .content-overlay {
            position: relative;
            z-index: 3;
            padding: var(--main-gap);
            max-width: 800px;
            text-shadow: 0 2px 10px rgba(0,0,0,0.5);
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease, transform 0.8s ease;
        }
        
        .media-block.is-visible .content-overlay {
            opacity: 1;
            transform: translateY(0);
        }

        /* ======================================================= */
        /* ESTILOS DE CONTENIDO SUPERPUESTO                        */
        /* ======================================================= */
        .content-overlay h1, .content-overlay h2 {
            font-family: var(--font-serif);
            font-weight: 600;
            line-height: 1.1;
            margin: 0 0 1rem 0;
        }
        .content-overlay h1 { font-size: 5rem; }
        .content-overlay h2 { font-size: 4rem; }
        .content-overlay p { font-size: 1.2rem; max-width: 600px; margin: 0 auto 1.5rem auto; }
        
        .btn {
            display: inline-block;
            padding: 0.8rem 1.8rem;
            border: 2px solid var(--color-light);
            color: var(--color-light);
            background-color: transparent;
            text-decoration: none;
            transition: background-color 0.3s, color 0.3s;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            border-radius: 50px;
        }
        .btn:hover { background-color: var(--color-light); color: #1a1a1a; }
        
        /* ======================================================= */
        /* ASIGNACIÓN DE IMÁGENES DE FONDO                         */
        /* ======================================================= */
        #block-1 .media-background { background-image: url('https://static.wixstatic.com/media/45d10e_5f001b282712449b808f44d927af9fc6~mv2.jpg/v1/fill/w_3806,h_3756,al_b,q_90,usm_0.66_1.00_0.01,enc_avif,quality_auto/45d10e_5f001b282712449b808f44d927af9fc6~mv2.jpg'); }
        #block-2 .media-background { background-image: url('https://static.wixstatic.com/media/45d10e_88ed9eeed26244fcb4bb74e74c3c8997~mv2.jpg/v1/fill/w_3818,h_1096,al_c,q_90,usm_0.66_1.00_0.01,enc_avif,quality_auto/45d10e_88ed9eeed26244fcb4bb74e74c3c8997~mv2.jpg'); }
        #block-3 .media-background { background-image: url('https://static.wixstatic.com/media/c837a6_4a4f895c121848afad327ce95285005c~mv2.jpg/v1/fill/w_2500,h_1232,al_c,q_90,enc_avif,quality_auto/c837a6_4a4f895c121848afad327ce95285005c~mv2.jpg'); }
        #block-4 .media-background { background-image: url('https://static.wixstatic.com/media/11062b_540eb79aa87a4e09b665e6daf5843bfa~mv2.jpg/v1/fill/w_5000,h_868,al_t,q_90,enc_avif,quality_auto/11062b_540eb79aa87a4e09b665e6daf5843bfa~mv2.jpg'); }
        
        footer { text-align: center; font-size: 0.9rem; padding: 4rem var(--main-gap); background-color: #111; }

        @media (max-width: 768px) {
            .content-overlay h1 { font-size: 3rem; }
            .content-overlay h2 { font-size: 2.5rem; }
        }
    </style>
</head>
<body>

    <header>
        <div class="header-logo"><a href="#">ARG</a></div>
    </header>

    <main>
        <section class="media-block" id="block-1">
            <div class="media-background"></div>
            <div class="content-overlay">
                <h1>Jardín Digital</h1>
                <p>Una colección de Alan Ruíz Galicia</p>
            </div>
        </section>

        <section class="media-block" id="block-2">
            <div class="media-background"></div>
            <div class="content-overlay">
                <h2>Ecos en las Ruinas</h2>
                <p>Las estrellas susurran historias antiguas, tejiendo destinos en el tapiz del cosmos.</p>
                <button class="btn">Explorar</button>
            </div>
        </section>

        <section class="media-block" id="block-3">
            <div class="media-background"></div>
            <div class="content-overlay">
                <h2>Archivo Sonoro</h2>
                <p>Fragmentos que exploran la intersección del arte, la tecnología y el espíritu.</p>
                 <button class="btn">Escuchar</button>
            </div>
        </section>
        
        <section class="media-block" id="block-4">
            <div class="media-background"></div>
            <div class="content-overlay">
                <h2>Lotería Tapatía</h2>
                <p>Una reinterpretación digital del clásico juego de mesa.</p>
                <button class="btn">Jugar Ahora</button>
            </div>
        </section>
    </main>
    
    <footer>
        <p>&copy; 2025 - ARG. Todos los derechos reservados.</p>
    </footer>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const mediaBlocks = document.querySelectorAll('.media-block');
            const windowHeight = window.innerHeight;
            let ticking = false;

            function updateScrollEffects() {
                mediaBlocks.forEach(block => {
                    const rect = block.getBoundingClientRect();
                    const background = block.querySelector('.media-background');

                    // ==========================================================
                    // NUEVA LÓGICA PARA EL "SCROLL INTERNO"
                    // ==========================================================
                    if (rect.top < windowHeight && rect.bottom > 0) {
                        // Calcula el progreso del scroll DENTRO del bloque (de 0 a 1)
                        // rect.top va de windowHeight (cuando aparece abajo) a -block.offsetHeight (cuando desaparece arriba)
                        const progress = (-rect.top) / block.offsetHeight;
                        
                        // Mapeamos el progreso a un rango de movimiento para el fondo (ej. de 20% a 80%)
                        // Esto evita que veamos los bordes duros de la imagen al inicio y al final.
                        const startY = 20; // 20%
                        const endY = 80;   // 80%
                        const range = endY - startY;
                        const backgroundY = startY + (progress * range);
                        
                        // Aplicamos la posición, asegurándonos de que no se salga del rango 0-100
                        const finalBackgroundY = Math.max(0, Math.min(100, backgroundY));

                        background.style.backgroundPositionY = `${finalBackgroundY}%`;
                    }
                    
                    // Lógica para la aparición del contenido (sin cambios)
                    if (rect.top < windowHeight * 0.75 && rect.bottom > windowHeight * 0.25) {
                         block.classList.add('is-visible');
                    } else {
                         block.classList.remove('is-visible');
                    }
                });
                ticking = false;
            }

            window.addEventListener('scroll', () => {
                if (!ticking) {
                    window.requestAnimationFrame(updateScrollEffects);
                    ticking = true;
                }
            });
            
            updateScrollEffects();
        });
    </script>
</body>
</html>
