<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prompt Engine v6 - Technical Control</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;700&display=swap" rel="stylesheet">
    <style>
        body { background-color: #0c0c0e; color: #d4d4d8; font-family: 'JetBrains Mono', monospace; }
        .panel { background: #18181b; border: 1px solid #27272a; border-radius: 12px; }
        .input-ui { background: #09090b; border: 1px solid #3f3f46; color: #fff; font-size: 0.8rem; }
        .input-ui:focus { border-color: #3b82f6; outline: none; }
        .btn-gen { background: linear-gradient(90deg, #2563eb, #7c3aed); transition: 0.3s; }
        .btn-gen:hover { opacity: 0.9; transform: translateY(-1px); box-shadow: 0 4px 20px rgba(99, 102, 241, 0.4); }
        .label-tech { font-size: 0.65rem; color: #71717a; font-weight: bold; text-transform: uppercase; letter-spacing: 0.05em; }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="max-w-6xl mx-auto">
        <header class="mb-8 border-l-4 border-blue-600 pl-4">
            <h1 class="text-2xl font-bold text-white tracking-tighter">PROMPT_ARCHITECT <span class="text-blue-500 italic">v6.0</span></h1>
            <p class="text-[10px] text-zinc-500 uppercase">Variable Injection & Technical Control System</p>
        </header>

        <div class="grid lg:grid-cols-12 gap-6">
            <aside class="lg:col-span-4 space-y-4">
                <div class="panel p-5 space-y-4">
                    <h2 class="text-xs text-blue-400 font-bold mb-4">// BASE_INPUTS</h2>
                    
                    <div class="space-y-3">
                        <div>
                            <label class="label-tech block mb-1 text-zinc-400">Subject</label>
                            <input type="text" id="subject" value="Milla Jovovich" class="w-full p-2 rounded input-ui">
                        </div>
                        <div>
                            <label class="label-tech block mb-1 text-zinc-400">Scenario</label>
                            <input type="text" id="scenario" value="Opulent French chateau garden" class="w-full p-2 rounded input-ui">
                        </div>
                        <div>
                            <label class="label-tech block mb-1 text-zinc-400">Action</label>
                            <input type="text" id="action" value="Fashion runway walk" class="w-full p-2 rounded input-ui">
                        </div>
                    </div>

                    <div class="pt-4 border-t border-zinc-800 space-y-3">
                        <h2 class="text-xs text-purple-400 font-bold mb-2">// TECH_VARIABLES</h2>
                        
                        <div>
                            <label class="label-tech block mb-1">Shot Type</label>
                            <select id="shot" class="w-full p-2 rounded input-ui">
                                <option value="Extreme Close-up">Extreme Close-up</option>
                                <option value="Close-up">Close-up</option>
                                <option value="Medium Shot" selected>Medium Shot</option>
                                <option value="Full Body Shot">Full Body Shot</option>
                                <option value="Wide Angle / Landscape">Wide Angle / Wide Shot</option>
                                <option value="Low Angle (Hero shot)">Low Angle</option>
                                <option value="Bird's Eye View">Bird's Eye View</option>
                            </select>
                        </div>

                        <div>
                            <label class="label-tech block mb-1">Style & Era</label>
                            <select id="style" class="w-full p-2 rounded input-ui">
                                <option value="Hyper-realistic Photography">Hyper-realistic Photo</option>
                                <option value="Cyberpunk 2077 Aesthetic">Cyberpunk</option>
                                <option value="1940s Film Noir Vintage">Film Noir (B&W)</option>
                                <option value="Kodak Portra 400 Film">Analog Film (Kodak)</option>
                                <option value="Vogue Fashion Editorial">Fashion Editorial</option>
                                <option value="Oil on Canvas (Masterpiece)">Oil Painting</option>
                                <option value="Unreal Engine 5 Render">UE5 Render</option>
                            </select>
                        </div>

                        <div>
                            <label class="label-tech block mb-1">Quality / Lens</label>
                            <select id="quality" class="w-full p-2 rounded input-ui">
                                <option value="8k resolution, highly detailed, sharp focus">8k Digital</option>
                                <option value="Vintage 8mm film grain, sepia tones">Vintage 8mm</option>
                                <option value="Anamorphic lens, cinematic lighting">Anamorphic Cinematic</option>
                                <option value="35mm lens, f/1.8, bokeh background">35mm f/1.8 (Bokeh)</option>
                                <option value="Polaroid instant photo style">Polaroid Style</option>
                                <option value="IMAX 70mm, grand scale">IMAX 70mm</option>
                            </select>
                        </div>

                        <div>
                            <div class="flex justify-between mb-1">
                                <label class="label-tech">Chaos Level</label>
                                <span id="chaosVal" class="text-[10px] text-blue-500">50%</span>
                            </div>
                            <input type="range" id="chaos" min="0" max="100" value="50" class="w-full h-1 bg-zinc-800 rounded-lg appearance-none cursor-pointer" oninput="document.getElementById('chaosVal').innerText = this.value + '%'">
                        </div>
                    </div>

                    <button onclick="generate()" id="btn" class="w-full btn-gen text-white font-bold py-3 rounded text-[10px] uppercase tracking-widest mt-4">
                        Execute Generation
                    </button>
                </div>
            </aside>

            <main class="lg:col-span-8 space-y-4" id="output">
                <div class="panel p-20 text-center opacity-20 border-dashed border-2">
                    <p class="text-xs uppercase">Terminal Ready for Input...</p>
                </div>
            </main>
        </div>
    </div>

    <script>
        async function generate() {
            const btn = document.getElementById('btn');
            const out = document.getElementById('output');
            
            const config = {
                s: document.getElementById('subject').value,
                sc: document.getElementById('scenario').value,
                a: document.getElementById('action').value,
                sh: document.getElementById('shot').value,
                st: document.getElementById('style').value,
                q: document.getElementById('quality').value,
                c: document.getElementById('chaos').value
            };

            btn.disabled = true;
            btn.innerText = "PROCESSING...";
            out.innerHTML = `<div class="panel p-10 text-center text-blue-400 animate-pulse text-xs uppercase">Compiling prompts with technical variables...</div>`;

            let creativity = "Be technically precise.";
            if (config.c > 70) creativity = "Be surreal, avant-garde and highly unconventional.";

            const system = `You are a professional Prompt Engineer. Generate 4 high-end prompts in ENGLISH.
            Use this format: [P1]prompt1[/P1] [P2]prompt2[/P2] [P3]prompt3[/P3] [P4]prompt4[/P4].
            Rules:
            - Shot Type: ${config.sh}
            - Style: ${config.st}
            - Technical Quality: ${config.q}
            - Creativity level: ${creativity}`;

            const user = `Create 4 distinct variations for: ${config.s}, ${config.a} in ${config.sc}. 
            V1: Professional Photography, V2: Artistic/Illustration, V3: Cinematic Motion, V4: System/Logic prompt.`;

            try {
                const response = await fetch(`https://text.pollinations.ai/${encodeURIComponent(user)}?system=${encodeURIComponent(system)}&model=mistral&seed=${Math.floor(Math.random()*99999)}`);
                const text = await response.text();

                const extract = (n) => {
                    const r = new RegExp(`\\[P${n}\\]([\\s\\S]*?)\\[\\/P${n}\\]`, 'i');
                    const m = text.match(r);
                    return m ? m[1].trim() : "Error parsing this variation.";
                };

                const labels = ["01_PHOTOGRAPHY", "02_CONCEPT_ART", "03_CINEMATIC", "04_AI_LOGIC"];
                const colors = ["text-orange-500", "text-purple-500", "text-emerald-500", "text-blue-500"];

                out.innerHTML = '';
                for(let i=1; i<=4; i++) {
                    out.innerHTML += `
                        <div class="panel p-5 border-l-2 border-zinc-700 hover:border-blue-500 transition-all">
                            <div class="flex justify-between items-center mb-3">
                                <span class="text-[9px] font-bold ${colors[i-1]} tracking-widest uppercase">${labels[i-1]}</span>
                                <button onclick="copy(this)" class="text-[9px] text-zinc-600 hover:text-white uppercase">[Copy_Prompt]</button>
                            </div>
                            <p class="text-xs text-zinc-300 leading-relaxed">${extract(i)}</p>
                        </div>
                    `;
                }

            } catch (e) {
                out.innerHTML = `<div class="p-4 bg-red-900/20 text-red-500 text-xs">CONNECTION_ERROR: Check your network or API status.</div>`;
            } finally {
                btn.disabled = false;
                btn.innerText = "Execute Generation";
            }
        }

        function copy(btn) {
            const text = btn.parentElement.nextElementSibling.innerText;
            navigator.clipboard.writeText(text);
            btn.innerText = "[COPIED]";
            setTimeout(() => btn.innerText = "[COPY_PROMPT]", 1500);
        }
    </script>
</body>
</html>
