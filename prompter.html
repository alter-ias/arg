<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Prompt Architect</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background: #0a0a0c; color: #e2e8f0; font-family: 'Inter', sans-serif; }
        .card { background: #16161a; border: 1px solid #2d2d35; transition: all 0.3s ease; }
        .card:hover { border-color: #3b82f6; }
        .input-field { background: #1f1f23; border: 1px solid #333; color: white; }
        .input-field:focus { border-color: #3b82f6; outline: none; }
        .loader { border: 3px solid #333; border-top: 3px solid #3b82f6; border-radius: 50%; width: 20px; height: 20px; animation: spin 1s linear infinite; display: none; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="min-h-screen p-4 md:p-10">
    <div class="max-w-6xl mx-auto">
        <header class="mb-12">
            <h1 class="text-3xl font-black tracking-tighter text-white">PROMPT <span class="text-blue-500">ARCHITECT</span></h1>
            <p class="text-slate-400">Generador multimodelo basado en Pollinations AI</p>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
            <div class="lg:col-span-4 space-y-6">
                <div class="card p-6 rounded-xl">
                    <h2 class="text-sm font-bold text-blue-400 uppercase mb-4">Configuraci贸n Base</h2>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-xs mb-1 opacity-50">SUJETO</label>
                            <input type="text" id="subject" placeholder="Ej: Guerrero Vikingo" class="input-field w-full p-3 rounded-lg">
                        </div>
                        <div>
                            <label class="block text-xs mb-1 opacity-50">ESCENARIO</label>
                            <input type="text" id="scenario" placeholder="Ej: Estaci贸n espacial ruinosa" class="input-field w-full p-3 rounded-lg">
                        </div>
                        <div>
                            <label class="block text-xs mb-1 opacity-50">ACCIN ESPECFICA</label>
                            <input type="text" id="action" placeholder="Ej: Forjando una espada de luz" class="input-field w-full p-3 rounded-lg">
                        </div>
                        <button onclick="generatePrompts()" id="genBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-lg flex justify-center items-center gap-3 transition-all">
                            <span>GENERAR VARIACIONES</span>
                            <div id="loader" class="loader"></div>
                        </button>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-8 grid grid-cols-1 md:grid-cols-2 gap-4" id="resultsGrid">
                <div class="md:col-span-2 text-center py-20 opacity-20">
                    <p class="text-xl">Ingresa los datos y genera la arquitectura de prompts</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        async function generatePrompts() {
            const subject = document.getElementById('subject').value;
            const scenario = document.getElementById('scenario').value;
            const action = document.getElementById('action').value;
            const btn = document.getElementById('genBtn');
            const loader = document.getElementById('loader');

            if (!subject || !scenario || !action) return alert("Faltan datos");

            btn.disabled = true;
            loader.style.display = "block";
            
            const systemPrompt = `Eres un experto Ingeniero de Prompts. Tu objetivo es crear 4 tipos de prompts distintos basados en los inputs del usuario.
            Debes devolver los resultados en un formato JSON estructurado con las siguientes llaves: 
            'photorealistic', 'artistic', 'motion', 'logic'. 
            Cada prompt debe ser detallado, en ingl茅s (mejor para IAs) y altamente optimizado.`;

            const userPrompt = `Crea 4 variaciones de prompts para: Sujeto: ${subject}, Escenario: ${scenario}, Acci贸n: ${action}. Devuelve SOLO el JSON.`;

            try {
                const response = await fetch(`https://text.pollinations.ai/${encodeURIComponent(userPrompt)}?system=${encodeURIComponent(systemPrompt)}&model=openai&json=true`);
                const data = await response.json();
                
                renderResults(data);
            } catch (e) {
                console.error(e);
                alert("Error en la conexi贸n. Aseg煤rate de que los campos sean v谩lidos.");
            } finally {
                btn.disabled = false;
                loader.style.display = "none";
            }
        }

        function renderResults(data) {
            const grid = document.getElementById('resultsGrid');
            grid.innerHTML = '';

            const types = [
                { title: ' Fotorealista', key: 'photorealistic', color: 'text-orange-400' },
                { title: ' Art铆stico / Concept', key: 'artistic', color: 'text-purple-400' },
                { title: ' Acci贸n & Movimiento', key: 'motion', color: 'text-emerald-400' },
                { title: ' L贸gica de Sistema', key: 'logic', color: 'text-blue-400' }
            ];

            types.forEach(type => {
                const content = data[type.key] || "No generado";
                grid.innerHTML += `
                    <div class="card p-5 rounded-xl flex flex-col justify-between">
                        <div>
                            <h3 class="text-xs font-bold ${type.color} mb-3 uppercase tracking-widest">${type.title}</h3>
                            <p class="text-sm text-slate-300 leading-relaxed">${content}</p>
                        </div>
                        <button onclick="copyText(this)" class="mt-4 text-[10px] bg-white/5 hover:bg-white/10 p-2 rounded uppercase font-bold tracking-tighter transition-colors">Copiar Prompt</button>
                    </div>
                `;
            });
        }

        function copyText(btn) {
            const text = btn.parentElement.querySelector('p').innerText;
            navigator.clipboard.writeText(text);
            const original = btn.innerText;
            btn.innerText = "隆COPIADO!";
            setTimeout(() => btn.innerText = original, 2000);
        }
    </script>
</body>
</html>
